name: "fairmq-ex-1-n-1-main"
defaults:
  nProcessors: 4
  defA: "defA"
  defB: "defB"
  defC: "defC"
vars:
  varA: "varA"
roles:
  - name: "processor{{ it }}"
    defaults:
      defB: "{{defB}}-{{it}}"
    vars:
      varI: "{{varA}}-{{it}}"
    for:
      begin: 1
      end: "{{ nProcessors }}"
      var: it
    include: fairmq-ex-1-n-1-processors
  - name: "sampler"
    task:
      load: fairmq-ex-1-n-1-sampler
  - name: "sink"
    task:
      load: fairmq-ex-1-n-1-sink
